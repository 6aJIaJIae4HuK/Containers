apply plugin: 'cpp'

model {
	toolChains {
		//visualCpp(VisualCpp)
		gcc(Gcc)
	}
	
	components {
		
		containers(NativeLibrarySpec) {
			sources {
				cpp {
					source.srcDirs = ['include']
				}
			}
		}
		
		
		main(NativeExecutableSpec) {
			sources {
				cpp {
					source.srcDirs = ['src']
				}
			}
		}
		
		
		test(NativeExecutableSpec) {
			sources {
				cpp {
					source.srcDirs = ['tests']
				}
			}
		}
		
	}	

	binaries {
		all {
			if (toolChain in Gcc) {
				cppCompiler.args "-std=c++14"
			}
		}
	}
}

task wrapper(type: Wrapper) {
    gradleVersion = '4.5'
}
